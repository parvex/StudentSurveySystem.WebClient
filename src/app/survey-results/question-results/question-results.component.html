<div class="question-result">

  <div class="row">
    <span class="details-label">#Question index todo: </span> <span class="details">{{questionResult.questionId}}</span>
  </div>
  <div class="row">
    <span class="details-label">Question text: </span> <span class="details">{{questionResult.questionText}}</span>
  </div>
  <div class="row">
    <span class="details-label">Question type: </span> <span class="details">{{questionResult.questionType}}</span>
  </div>

  <ul ngbNav #nav="ngbNav" [(activeId)]="tabId" class="nav-pills">
    <li [ngbNavItem]="1">
      <a ngbNavLink>Hide</a>
      <ng-template ngbNavContent>
      </ng-template>
    </li>
    <li [ngbNavItem]="2">
      <a ngbNavLink>Aggregated answers</a>
      <ng-template ngbNavContent>
        <div *ngIf="questionResult.questionType !== 'Boolean'" class="chart">
          <ngx-charts-bar-horizontal
          [results]="questionResult.answerPercentages"
          [gradient]="true"
          [xAxis]="true"
          [yAxis]="true"
          [showXAxisLabel]="true"
          [showYAxisLabel]="true"
          [xAxisLabel]="'Percentage'"
          [yAxisLabel]="'Answer'"
          [xScaleMax]="100">
          </ngx-charts-bar-horizontal>
       </div>
        <div *ngIf="questionResult.questionType === 'Boolean'" class="chart">
          <ngx-charts-pie-chart
          [view]="[800,600]"
          [results]="questionResult.answerPercentages"
          [labels]="true"
          [doughnut]="false"
          >
        </ngx-charts-pie-chart>
       </div>
        <!-- <table class="table table-light table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Answer</th>
              <th scope="col">Percentage</th>
              <th scope="col">Number of answers:</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let percentage of questionResult.answerPercentages; index as i">
              <th scope="row">{{i}}</th>
              <td>{{percentage.answer}}</td>
              <td>{{percentage.percentOfAnswers}}</td>
              <td>{{percentage.numberOfAnswers}}</td>
            </tr>
          </tbody>
        </table> -->
      </ng-template>
    </li>
    <li [ngbNavItem]="3">
      <a ngbNavLink>Answers list</a>
      <ng-template ngbNavContent>
        <table class="table table-light table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Respondent</th>
              <th scope="col">Answer</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let answer of questionResult.questionAnswers; index as i">
              <th scope="row">{{i}}</th>
              <td>{{answer.respondent}}</td>
              <td>{{answer.value}}</td>
            </tr>
          </tbody>
        </table>
      </ng-template>
    </li>
  </ul>

  <div [ngbNavOutlet]="nav" class="mt-2"></div>
</div>

